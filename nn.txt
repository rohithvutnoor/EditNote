package alvinEditor;
import java.io.BufferedReader;
import java.io.InputStream;
import java.io.InputStreamReader;
public class MyCode 
{		
			public MyCode(String file){
				
				String fileName = file.substring(0, file.length()-4);
				
				Execute(fileName);
			}
		  private static void printLines(String name, InputStream ins) throws Exception {
		    String line = null;
		    BufferedReader in = new BufferedReader(
		        new InputStreamReader(ins));
		    while ((line = in.readLine()) != null) {
		        System.out.println(name + " " + line);
		    }
		  }
		  private static int runProcess(String command) throws Exception {
		    Process pro = Runtime.getRuntime().exec(command);
		    printLines(command + " stdout:", pro.getInputStream());
		    printLines(command + " stderr:", pro.getErrorStream());
		    pro.waitFor();
		   // System.out.println(command + " exitValue() " + pro.exitValue());
		    return pro.exitValue();
		  }
		 public static void Execute(String fileName) {
		    try {
		    int k =  runProcess(fileName+".java");
		    if (k==0)
		    k=runProcess(fileName);
		    } catch (Exception e) {
		      e.printStackTrace();
		    }
		  }	
}
